<h2 mat-dialog-title *ngIf="isEditMode(); else addMode">
  {{ "branchForm.EDIT_TITLE" | translate }}
</h2>
<ng-template #addMode>
  <h2 mat-dialog-title>{{ "branchForm.ADD_TITLE" | translate }}</h2>
</ng-template>

<form [formGroup]="branchForm" (ngSubmit)="onSubmit()">
  <mat-dialog-content class="mat-typography">
    <div class="row">
      <div class="col-md-6 mb-3">
        <mat-form-field class="w-100">
          <mat-label>{{ "branchForm.NAME" | translate }}</mat-label>
          <input matInput formControlName="name" required />
        </mat-form-field>
      </div>
      <div class="col-md-6 mb-3">
        <mat-form-field class="w-100">
          <mat-label>{{ "branchForm.CANTON" | translate }}</mat-label>
          <input matInput formControlName="canton" required />
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6 mb-3">
        <mat-form-field class="w-100">
          <mat-label>{{ "branchForm.PHONE" | translate }}</mat-label>
          <input matInput formControlName="phone" required />
        </mat-form-field>
      </div>
      <div class="col-md-6 mb-3">
        <mat-form-field class="w-100">
          <mat-label>{{ "branchForm.POSTCODE" | translate }}</mat-label>
          <input matInput formControlName="postCode" required />
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6 mb-3">
        <mat-form-field class="w-100">
          <mat-label>{{ "branchForm.LOCATION" | translate }}</mat-label>
          <input matInput formControlName="location" required />
        </mat-form-field>
      </div>
      <div class="col-md-6 mb-3">
        <mat-form-field class="w-100">
          <mat-label>{{ "branchForm.EMAIL" | translate }}</mat-label>
          <input matInput formControlName="email" required />
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6 mb-3">
        <mat-form-field class="w-100">
          <mat-label>{{ "branchForm.WEBSITE" | translate }}</mat-label>
          <input matInput formControlName="website" required />
        </mat-form-field>
      </div>
      <div class="col-md-6 mb-3">
        <mat-form-field class="w-100">
          <mat-label>{{ "branchForm.OPENING_HOURS" | translate }}</mat-label>
          <input matInput formControlName="openingHours" required />
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6 mb-3">
        <mat-form-field class="w-100">
          <mat-label>{{ "branchForm.LATITUDE" | translate }}</mat-label>
          <input matInput formControlName="lat" required />
        </mat-form-field>
      </div>
      <div class="col-md-6 mb-3">
        <mat-form-field class="w-100">
          <mat-label>{{ "branchForm.LONGITUDE" | translate }}</mat-label>
          <input matInput formControlName="lng" required />
        </mat-form-field>
      </div>
    </div>
    <div class="file-upload-wrapper"
      [class.success]="uploadSuccess"
      [class.error]="uploadError"
      (drop)="onFileDrop($event)"
      (dragover)="onDragOver($event)">
      <input type="file" accept="image/*" (change)="onFileChange($event)" hidden #fileInput />
      <div class="file-dropper" (click)="fileInput.click()">
        <mat-icon>upload</mat-icon>
        <p>{{ "actions.UPLOAD_PLACEHOLDER" | translate }}</p>
        <div *ngIf="imageName()">
          <div *ngIf="selectedFile || imagePreview">
            <img [src]="imagePreview()" alt="Image Preview" class="image-preview"/>
            <p>{{ imageName() }} ({{ fileSize() }} KB)</p>
            <mat-icon class="delete-icon" (click)="removeImage()">delete</mat-icon>
          </div>
        </div>
      </div>
    </div>
  </mat-dialog-content>
  <mat-dialog-actions align="start">
    <button mat-button mat-dialog-close>
      {{ "actions.CLOSE" | translate }}
    </button>
    <button mat-button type="submit" [disabled]="!branchForm.valid">
      {{ "actions.SAVE" | translate }}
    </button>
  </mat-dialog-actions>
</form>